## 시계열 데이터 (Time-series data)

- 시간의 흐름에 따라 관찰된 데이터

- 데이터가 시간 순서로 정렬되어 있으며, 각 시점의 값이 특정한 시간적 맥락에서 의미를 가짐


### 시계열 데이터의 특징

1. 시간 순서가 중요

- 시계열 데이터는 시간 순서대로 기록됨

- 예를 들어, 1월 데이터가 2월 데이터보다 앞서 기록되어야 함

2. 시간 간격

- 데이터가 수집된 시간 간격(간격의 균등 여부)에 따라 분석 방법이 달라질 수 있음

- 균등 간격: 매일, 매월, 매년 등으로 일정한 간격

- 불균등 간격: 불규칙한 간격으로 기록

3. 패턴

- 추세(Trend): 시간이 지나면서 데이터가 상승하거나 하락하는 경향

- 계절성(Seasonality): 특정 주기(ex. 계절, 월, 주)에 따라 반복되는 변동

- 순환성(Cycle): 경제적 또는 외부적 요인으로 인한 데이터의 반복적인 움직임

4. 자기 상관성

- 과거의 데이터가 현재 데이터와 상광관계를 가질 수 있음. 이를 자기 상관(Autocorrelation)이라고 함


#### 추세 Trend

- 데이터가 장기적으로 일정 방향으로 움직이는 경향

- 시간에 따라 데이터가 꾸준히 증가하거나 감소하는 패턴을 의미

- 단기적 변동(Noise)은 무시하고, 전반적인 증가/감소를 파악하는 데 초점

- 예시 1) 특정 지역의 평균 주택 가격이 10년 동안 꾸준히 증가: 2010년 2억 -> 2020년 5억

- 예시 2) 특정 선수가 시간이 지남에 따라 타율이 꾸준히 상승(또는 하락): 시즌 초반 0.250 -> 중반 0.280 -> 후반 0.310로 상승

#### 계절성 Seasonality

- 데이터가 특정 주기마다 반복되는 패턴

- 주기는 계절(봄, 여름, 가을, 겨울)뿐만 아니라 주, 월, 일 단위의 주기적 변동을 포함

- 예시 1) 여름철에는 수영복 판매량이 급증하고, 겨울철에는 코트와 방한용품 판매량이 증가

- 예시 2) 특정 선수가 홈경기와 원정경기에서 반복적으로 성적 차이를 보임: 홈경기 타율 0.350, 원정경기 타율 0.270


#### 순환성 Cycle

- 경제적 또는 외부적 요인에 의해 발생하는 장기적이고 불규칙한 주기적 변동

- 계절성과는 다르게 주기가 일정하지 않음

- 예시 1) 경제 호황과 불황의 경기 순환: 2008년 금융위기 -> 2010년대 경기 회복 -> 2020년 팬데믹으로 침체

- 예시 2) 팀 성적이 특정 주기(ex. 2~3년)마다 반복적으로 상승/하락: 팀이 리빌딩 주가(신인 선수 육성) 동안 성적이 하락 -> 이후 팀이 재건되면서 성적이 상승


### 독립 항등 분포 (IID, Independent and Identically Distributed)

- 독립 항등 분포는 데이터가 다음 두 가지 조건을 만족해야 한다

1. 독립성: 각 데이터 포인터는 서로 독립적이어야 한다. 즉, 어떤 데이터가 다른 데이터에 영향을 미치지 않아야 한다.

2. 항등성: 모든 데이터는 동일한 확률 분포를 따라야 한다.

#### 일반적인 머신러닝 데이터와 IID 가정

- 일반적인 머신러닝 데이터 (ex. 이미지, 텍스트 분류)

- 데이터 샘플 간에 독립성을 가정할 수 있음

ex) 고양이 사진과 강아지 사진은 서로 독립적으로 찍힘

- 모든 샘플이 동일한 분포를 따름

ex) 고양이와 강아지 사진 모두 동일한 확률 분포에서 추출된 데이터로 간주

- 모델 가정

- 머신러닝 모델(ex. 회귀, 분류)은 데이터가 IID라고 가정하고 동작

- 독립성 덕분에 각 샘플을 개별적으로 처리할 수 있고, 항등성 덕분에 모델 학습이 안정적


#### 시계열 데이터와 IID 가정

- 시계열 데이터는 IID 가정이 성립하지 않음

1. 독립성의 위배

- 시계열 데이터는 시간적으로 연속적이기 때문에 이전 시점의 데이터가 이후 시점의 데이터에 영향을 미침

- 예시 1) 오늘의 주식 가격은 어제와 밀접한 관계가 있음

- 예시 2) 오늘의 기온은 어제와 매우 유사하거나, 점진적으로 변화

- 데이터가 서로 독립적이지 않으므로 IID 가정이 깨짐

2. 항등성의 위배

- 시계열 데이터는 시간에 따라 데이터 분포가 달라질 수 있음

- 예시 1) 여름철 기온은 겨울철 기온과 분포가 다름

- 예시 2) 특정 주식의 장기적인 상승 추세는 시간이 지남에 따라 데이터의 평균값을 변화시킴

- 동일한 확률 분포를 가정할 수 없으므로 항등성도 깨짐


#### 머신러닝에서 시계열 데이터의 처리

- 일반적인 머신러닝은 IID 가정을 전제로 하지만, 시계열 데이터는 다음과 같은 접근법이 필요함

1. 시간 종속성을 고려한 모델링

- 과거 데이터가 미래 데이터에 영향을 미치므로, 과거 시점을 입력으로 사용하는 모델 필요

- ARIMA: 과거의 값(자기회귀)를 사용해 미래를 예측

- RNN/LSTM: 과거의 데이터 시퀀스를 기반으로 미래 시점의 값을 예측

2. 정상성 확보

- 시계열 데이터를 모델링하기 전에 추세와 계절성을 제거해 정상성을 확보

- 차분(Differencing)으로 데이터를 평탄화

- 로그 변환(Log Transformation)으로 데이터 분산을 안정화


3. 특수한 데이터 분포 처리

- 데이터가 동일한 분포를 따르지 않기 때문에, 가변적인 데이터 분포를 처리할 수 있는 모델 필요
